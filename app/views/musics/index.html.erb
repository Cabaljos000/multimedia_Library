<% content_for :title, "Music" %>

<div class="max-w-6xl mx-auto text-white px-4 py-8">
  <div class="flex items-center justify-between mb-6 border-b border-gray-700 pb-2">
    <h1 class="text-3xl font-bold">Music</h1>
    <%= link_to "New Music", new_music_path, class: "btn" %>
  </div>

  <% if @musics.any? %>
    <div id="music" class="overflow-x-auto pb-4">
      <div class="flex items-start gap-6 w-max">
        <% @musics.each do |music| %>
          <div class="flex flex-col items-center w-48">
            <%= link_to music_path(music), class: "group w-full" do %>
              <div class="w-full h-72 rounded-lg overflow-hidden bg-[#1a1a1a] shadow-md transform transition-transform duration-200 group-hover:scale-105">
                <% if music.poster.attached? %>
                  <%= image_tag music.poster.variant(resize_to_fill: [200, 300]), alt: music.title, class: "w-full h-full object-cover" %>
                <% else %>
                  <div class="w-full h-full bg-gray-800 flex items-center justify-center">
                    <span class="text-sm text-gray-400 text-center">No Image</span>
                  </div>
                <% end %>
              </div>
              <div class="mt-2 text-center text-sm font-medium text-gray-300 truncate w-full">
                <%= music.title %> by <%= music.artist %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <p class="text-gray-400 italic mt-4">No music found.</p>
  <% end %>
</div>
